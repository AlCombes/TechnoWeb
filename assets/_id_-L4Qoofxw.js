import{V as v,a as y,b as m,c as C,d as w,F as j}from"./VCard-CjfvWPHF.js";import{r as B,f as R,o as i,c as p,d as T,t as u,a,w as n,g as q,u as s,b as c,h as b,F as h,i as V,j as D,e as g,k,l as E}from"./index-BAhf_nyQ.js";const x="af1e1c8f8ad6efb5b326eabaffa38b8a",L={__name:"FilmDetail",props:["idFilm"],setup(d){const f=d;let l=B({film:null,acteurs:null,equipe:null});function _(){const o="https://api.themoviedb.org/3/movie/"+f.idFilm+"?api_key="+x+"&language=fr-FR&region=FR";fetch(o,{method:"GET"}).then(t=>t.json()).then(t=>{console.log(t),l.film=new j(t),console.log(l)}).catch(t=>{console.log(t)})}function F(){const o="https://api.themoviedb.org/3/movie/"+f.idFilm+"/credits?api_key="+x+"&language=fr-FR";fetch(o,{method:"GET"}).then(t=>t.json()).then(t=>{console.log(t),l.acteurs=t.cast,l.equipe=t.crew,console.log(l)}).catch(t=>{console.log(t)})}return R(()=>{_(),F()}),(o,r)=>(i(),p(h,null,[T("h3",null,"Detail d'un film "+u(d.idFilm),1),a(w,{color:"primary",class:"mx-auto","max-width":"344"},{default:n(()=>{var t;return[a(q,{src:"https://image.tmdb.org/t/p/w500/"+((t=s(l).film)==null?void 0:t.affiche),height:"500px",cover:""},null,8,["src"]),a(v,null,{default:n(()=>{var e;return[c(u((e=s(l).film)==null?void 0:e.titre),1)]}),_:1}),a(y,null,{default:n(()=>{var e;return[c(u((e=s(l).film)==null?void 0:e.genres),1)]}),_:1}),a(m,{class:"text-justify"},{default:n(()=>{var e;return[c(u((e=s(l).film)==null?void 0:e.resume),1)]}),_:1}),a(m,null,{default:n(()=>[a(b,null,{default:n(()=>[(i(!0),p(h,null,V(s(l).acteurs,e=>(i(),g(k,{key:e.id,title:e.character,subtitle:e.name},null,8,["title","subtitle"]))),128))]),_:1})]),_:1}),a(m,null,{default:n(()=>[a(b,null,{default:n(()=>[(i(!0),p(h,null,V(s(l).equipe,e=>(i(),g(k,{key:e.id,title:e.name,subtitle:e.job+" ["+e.department+"]"},null,8,["title","subtitle"]))),128))]),_:1})]),_:1}),a(C,null,{default:n(()=>[a(D,{color:"deep-purple-lighten-2",variant:"text",onClick:r[0]||(r[0]=e=>o.$router.back())},{default:n(()=>[c(" Retour ")]),_:1})]),_:1})]}),_:1})],64))}},G={__name:"[id]",setup(d){const l=E().params.id;return console.log(l),(_,F)=>(i(),g(L,{idFilm:s(l)},null,8,["idFilm"]))}};export{G as default};
